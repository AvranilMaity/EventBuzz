<app-user-navigation></app-user-navigation>
<div class="event-content">
  <div class="container d-flex justify-content-center">
    <form [formGroup]="createEventForm" (ngSubmit)="onSubmit()">
      <div class="page-data p-2">
        <div class="page-data-title">
          Create an Event
        </div>
        <div class="row">
          <div class="col-md-12 section">
            <div class="row section-header">
              <div class="col-md-2">
                <div
                  class="section-image"
                  style="
                    background-color: coral;
                    border-radius: 40px;
                    width: 80px;
                    height: 80px;
                    border: 1px solid;
                  "
                ></div>
              </div>
              <div class="col-md-10" style="padding-left: 20px;">
                <div class="section-header-title">Basic Info</div>
                <div class="section-header-content">
                  Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                  Explicabo vero eos quia incidunt enim nobis?
                </div>
              </div>
            </div>
            <br />
            <hr />
            <br />
            <div class="row section-content">
              <div class="col-md-12 d-flex flex-column justify-content-center">
                <div class="form-group">
                  <label for="eventName" class="p-2">EVENT NAME</label>
                  <input
                    type="text"
                    class="form-control"
                    id="eventName"
                    formControlName="eventName"
                  />
                </div>
                <div class="form-group">
                  <label for="place" class="p-2">PLACE</label>
                  <input
                    type="text"
                    class="form-control"
                    id="place"
                    formControlName="place"
                  />
                </div>
                <div class="form-group">
                  <label for="organized-by" class="p-2">EVENT CATEGORY</label>
                  <select
                    class="form-control"
                    id="eventCategory"
                    formControlName="eventCategory"
                    #eventType
                  >
                    <option *ngFor="let category of eventCategories">
                      {{ category }}
                    </option>
                  </select>
                </div>
                <div class="form-row">
                  <div class="form-group col-md-6" style="width: 100%;">
                    <label for="eventBeginDate" class="p-2">EVENT BEGINS</label>
                    <input
                      type="date"
                      class="form-control"
                      id="eventBeginDate"
                      formControlName="eventBeginDate"
                    />
                  </div>
                  <div class="form-group col-md-6" style="width: 100%;">
                    <label for="eventBeginTime" class="p-2">START TIME</label>
                    <input
                      type="time"
                      class="form-control"
                      id="eventBeginTime"
                      formControlName="eventBeginTime"
                    />
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group col-md-6" style="width: 100%;">
                    <label for="eventEndDate" class="p-2">EVENT ENDS</label>
                    <input
                      type="date"
                      class="form-control"
                      id="eventEndDate"
                      formControlName="eventEndDate"
                    />
                  </div>
                  <div class="form-group col-md-6" style="width: 100%;">
                    <label for="eventEndTime" class="p-2">END TIME</label>
                    <input
                      type="time"
                      class="form-control"
                      id="eventEndTime"
                      formControlName="eventEndTime"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <br /><br /><br /><br />
        <div class="row">
          <div class="col-md-12 section">
            <div class="row section-header">
              <div class="col-md-2">
                <div
                  class="section-image"
                  style="
                    background-color: #d794eb;
                    border-radius: 40px;
                    width: 80px;
                    height: 80px;
                    border: 1px solid;
                  "
                ></div>
              </div>
              <div class="col-md-10" style="padding-left: 20px;">
                <div class="section-header-title">Upload Photo</div>
                <div class="section-header-content">
                  Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                  Explicabo vero eos quia incidunt enim nobis?
                </div>
              </div>
            </div>
            <br />
            <hr />
            <br />
            <div class="row section-content">
              <div class="col-md-12">
                <div
                  class="custom-dropzone"
                  ngx-dropzone
                  [accept]="'image/*'"
                  (change)="onSelect($event)"
                  style="margin-bottom: 40px;"
                >
                  <ngx-dropzone-label>
                    <div style="margin: 0px 30px 0px 30px;">
                      <img
                        src="../../../../assets/images/add_photo.svg"
                        alt=""
                        style="margin-bottom: 10px;"
                      />
                      <br />
                      <p
                        style="
                          color: black;
                          font-weight: 700;
                          margin-bottom: 5px;
                        "
                      >
                        Drag and drop your images
                      </p>
                      <p style="font-size: 12px; font-weight: 500;">
                        Click here to upload images
                      </p>
                      <br />

                      <p style="font-size: 12px; font-weight: 600;">
                        Lorem ipsum, dolor sit amet consectetur adipisicing
                        elit. Dolore totam suscipit asperiores provident
                        corrupti distinctio.
                      </p>
                    </div>
                  </ngx-dropzone-label>
                  <ngx-dropzone-image-preview
                    ngProjectAs="ngx-dropzone-preview"
                    *ngFor="let f of files"
                    [file]="f"
                    [removable]="true"
                    (removed)="onRemove(f)"
                  >
                    <!-- <ngx-dropzone-label
                                >{{ f.name }} ({{ f.type }})</ngx-dropzone-label
                              > -->
                  </ngx-dropzone-image-preview>
                </div>

                <div class="form-group">
                  <label for="event-description" class="p-2"
                    >EVENT DESCRIPTION</label
                  >
                  <textarea
                    type="text"
                    class="form-control"
                    id="event-description"
                    placeholder="Write something about the event..."
                    style="font-size: 14px; height: 200px;"
                    formControlName="eventDescription"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
        <br /><br /><br /><br />
        <div class="row">
          <div class="col-md-12 section">
            <div class="row section-header">
              <div class="col-md-2">
                <div
                  class="section-image"
                  style="
                    background-color: #babbbc;
                    border-radius: 40px;
                    width: 80px;
                    height: 80px;
                    border: 1px solid;
                  "
                ></div>
              </div>
              <div class="col-md-10" style="padding-left: 20px;">
                <div class="section-header-title">Organizer Details</div>
                <div class="section-header-content">
                  Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                  Explicabo vero eos quia incidunt enim nobis?
                </div>
              </div>
            </div>
            <br />
            <hr />
            <br />
            <div class="row section-content">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="organizer-name" class="p-2">ORGANIZER NAME</label>
                  <input
                    type="text"
                    class="form-control"
                    id="organizer-name"
                    formControlName="organizerName"
                  />
                </div>
                <div class="form-group">
                  <label for="organized-by" class="p-2">ORGANIZED BY</label>
                  <select
                    class="form-control"
                    id="organizedBy"
                    formControlName="organizedBy"
                    #organizedBy
                  >
                    <option *ngFor="let organizer of organizers">
                      {{ organizer }}
                    </option>
                  </select>
                </div>

                <div
                  class="form-group"
                  *ngIf="organizedBy.value == 'Corporate'"
                >
                  <label for="organization-name" class="p-2"
                    >ORGANIZATION NAME</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="organization-name"
                    formControlName="organizationName"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
        <br /><br /><br /><br />
        <div class="row">
          <div class="col-md-12 section">
            <div class="row section-header">
              <div class="col-md-2">
                <div
                  class="section-image"
                  style="
                    background-color: #2caffe;
                    border-radius: 40px;
                    width: 80px;
                    height: 80px;
                    border: 1px solid;
                  "
                ></div>
              </div>
              <div class="col-md-10" style="padding-left: 20px;">
                <div class="section-header-title">Ticketing Details</div>
                <div class="section-header-content">
                  Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                  Explicabo vero eos quia incidunt enim nobis?
                </div>
              </div>
            </div>
            <br />
            <hr />
            <div class="row section-content">
              <div class="col-md-12 d-flex flex-column justify-content-center">
                <div class="form-group">
                  <label for="organized-by" class="p-2">EVENT TYPE</label>
                  <select
                    class="form-control"
                    id="eventType"
                    formControlName="eventType"
                    #eventType
                  >
                    <option *ngFor="let event of eventList">
                      {{ event }}
                    </option>
                  </select>
                </div>

                <div class="open-event" *ngIf="eventType.value == 'Open'">
                  <div class="form-group">
                    <label for="organized-by" class="p-2">HEAD COUNT</label>
                    <input
                      class="form-control"
                      list="headCountList"
                      name="eventCapacity"
                      id="eventCapacity"
                      placeholder="How many people can attend the event?"
                      formControlName="eventCapacity"
                      #eventType
                    />
                    <datalist id="headCountList">
                      <option *ngFor="let i of headCountList">
                        {{ i }}
                      </option>
                    </datalist>
                  </div>
                  <br />
                  <div class="button" style="text-align: left;">
                    <button
                      type="button"
                      class="add-ticket-button"
                      style="padding: 0px;"
                      (click)="onAddTicket()"
                    >
                      Add Ticket Type
                    </button>
                  </div>
                  <br />
                  <div
                    class="form-row"
                    *ngIf="hasTickets"
                    style="
                      margin-bottom: 5px;
                      height: 50px;
                      padding-bottom: 0px;
                    "
                  >
                    <div class="form-group col-md-6 label-holder">
                      <div class="has-tickets p-2">TICKET TYPE</div>
                    </div>
                    <div class="form-group col-md-3 label-holder">
                      <div class="has-tickets p-2">QUANTITY</div>
                    </div>
                    <div class="form-group col-md-2 label-holder">
                      <div class="has-tickets p-2">PRICE</div>
                    </div>
                  </div>
                  <div class="tickets" formArrayName="ticketTypes">
                    <div
                      class="form-row"
                      style="
                        margin-bottom: 5px;
                        height: 50px;
                        padding-bottom: 0px;
                      "
                      [formGroup]="i"
                      *ngFor="
                        let ticketType of ticketTypesControl;
                        let i = index
                      "
                    >
                      <div
                        class="form-group col-md-6"
                        style="height: 50px; padding-bottom: 0px;"
                      >
                        <input
                          type="text"
                          class="form-control"
                          name="ticket-type-name"
                          id="ticket-type-name"
                          formControlName="ticketTypeName"
                          placeholder="Regular, VIP, etc."
                        />
                      </div>
                      <div class="form-group col-md-3">
                        <input
                          type="number"
                          class="form-control"
                          id="ticket-type-quantity"
                          formControlName="ticketTypeQuantity"
                        />
                      </div>
                      <div class="form-group col-md-2">
                        <input
                          type="number"
                          class="form-control"
                          id="ticket-type-price"
                          style="margin-bottom: 10px;"
                          formControlName="ticketTypePrice"
                        />
                      </div>
                      <div
                        class="form-group col-md-1"
                        style="display: flex; justify-content: center;"
                      >
                        <img
                          src="../../../../assets/images/remove_button.svg"
                          alt=""
                          style="height: 50px; width: 40px; cursor: pointer;"
                          (click)="onDeleteTicket(i)"
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="closed-event" *ngIf="eventType.value == 'Closed'">
                  <div class="form-group">
                    <label class="p-2">INVITED USERS</label>
                    <div class="user-container">
                      <span
                        class="user-tag"
                        *ngFor="let user of invitedUsers; let i = index"
                      >
                        <span class="user-tag-data">
                          {{ user }}
                        </span>
                        <img
                          src="../../../../assets/images/remove_button.svg"
                          class="close-button"
                          alt=""
                          (click)="onDeleteUser(i)"
                        />
                      </span>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group col-md-10">
                      <label for="add-user" class="p-2">EMAIL</label>
                      <input
                        type="email"
                        class="form-control"
                        id="add-user"
                        placeholder="invitee@somemailid.com"
                        #newInvite
                      />
                    </div>
                    <div class="form-group col-md-2">
                      <div class="button" style="margin-top: 33px;">
                        <button
                          type="button"
                          class="add-button"
                          style="padding: 0px;"
                          (click)="onAddUser(newInvite.value)"
                        >
                          ADD
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="button"
          style="text-align: end; padding-right: 25px; margin-top: 50px;"
        >
          <button type="submit" class="submit-button" style="padding: 0px;">
            SUBMIT
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
